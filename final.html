<html>
    <head>
		 <title>ARCHERYサイト</title>
		 <meta charset="UTF-8">
		 <style>html{touch-action:manipulation}body{background-color:#f1f0ed;margin:0;padding:0}.header{background-color:#aeced9;display:flex}.header h1{font-size:40px;width:90%;text-align:center}#header-hamburger{cursor:pointer;background-color:#73b5b1;width:10%;aspect-ratio:1/1;margin-left:auto;position:relative;z-index:10;border-radius:10px}#header-hamburger span{display:inline-block;background:#fff;width:50%;height:4px;transition:all .4s;position:absolute;left:50%;transform:translateX(-50%)}#header-hamburger span:nth-of-type(1){top:30%}#header-hamburger span:nth-of-type(2){top:50%}#header-hamburger span:nth-of-type(3){top:70%}#header-hamburger.active span:nth-of-type(1){top:50%;left:25%;transform:rotate(-45deg);width:50%}#header-hamburger.active span:nth-of-type(2){opacity:0}#header-hamburger.active span:nth-of-type(3){top:50%;left:25%;transform:rotate(45deg);width:50%}#hamburgerWindow ul{position:fixed;margin:0;right:0;width:70%;z-index:100}#hamburgerWindow .hamburgerWindow-list li{position:relative;font-size:30px;right:0;padding:20px;padding-left:2.3em;border-bottom:2px solid #73b5b1;background-color:#fff;list-style:none;display:none}#hamburgerWindow .hamburgerWindow-list button{font-size:30px;position:absolute;right:20px;display:none}#hamburgerWindow .hamburgerWindow-list li::after,#hamburgerWindow .hamburgerWindow-list li::before{position:absolute;content:'';border-radius:50%;display:flex;justify-content:center;align-items:center}#hamburgerWindow .hamburgerWindow-list li::before{left:.4em;width:35px;height:35px;background-color:rgba(115,181,177,1)}#hamburgerWindow .hamburgerWindow-list li::after{top:1em;left:1em;width:30px;height:30px;background-color:rgba(115,181,177,.5)}#hamburgerWindow.open .hamburgerWindow-list li{display:flex;animation-name:fadein;animation-duration:.5s}#hamburgerWindow.open .hamburgerWindow-list button{display:flex}@keyframes fadein{0%{opacity:0;transform:translateX(200px)}100%{opacity:1;transform:translateX(0)}}.score_button button{margin:.5% 1.5%;font-size:90px;width:30%;height:9%;border-radius:30px;border:#000 solid 1px;box-shadow:4px 4px 4px #dedad2}.score_button .yellow{color:#000;background-color:#ff0}.score_button .red{color:#000;background-color:red}.score_button .blue{background-color:#00f;color:#fff}.score_button .black{background-color:#000;color:#fff}.score_button .white{color:#000;background-color:#fff}.score_button .gray{color:#000;background-color:gray}.score_button.open button{display:none!important}.scoreTable{margin:0 30px;border-collapse:separate;border-spacing:10px}th{font-size:25px}td{font-size:40px;width:80px;height:60px;text-align:center;border:solid 1px;border-radius:10px}.scoreTable_sum{min-width:140px}.scoreActive{background-color:#dedad2}.homeButton{position:fixed;color:#fff;background-color:#73b5b1;font-size:50px;aspect-ratio:1/1;border-radius:100%;right:20px;bottom:20px;border-radius:50%}</style>
    </head>
    <header id="header" class="header">
        <h1>ARCHERYサイト</h1>
        <div id="header-hamburger" ontouchend="hamburgerClick()"><span></span><span></span><span></span></div>
    </header>
        <div id="hamburgerWindow"><ul class="hamburgerWindow-list"id="hamburgerWindow-list"></ul></div>
    <body>
        <div id ="scoreTable"></div>
        <div class="score_button" id="scoreButton"><button id="X" ontouchend="buttonClick(this)" class="yellow">X</button><button id="10" ontouchend="buttonClick(this)" class="yellow">10</button><button id="9" ontouchend="buttonClick(this)" class="yellow">9</button><button id="8" ontouchend="buttonClick(this)" class="red">8</button><button id="7" ontouchend="buttonClick(this)" class="red">7</button><button id="6" ontouchend="buttonClick(this)" class="blue">6</button><button id="5" ontouchend="buttonClick(this)" class="blue">5</button><button id="4" ontouchend="buttonClick(this)" class="black">4</button><button id="3" ontouchend="buttonClick(this)" class="black">3</button><button id="2" ontouchend="buttonClick(this)" class="white">2</button><button id="1" ontouchend="buttonClick(this)" class="white">1</button><button id="M" ontouchend="buttonClick(this)" class="gray">M</button></div>
        <button class="homeButton" ontouchstart="homeClick()" id="homeButton">+</button>
        <script>function resetMemu(){for(let e=practiceDay.length;e>0;e--)null!==document.getElementById(practiceDay[e-1])&&document.getElementById(practiceDay[e-1]).remove();for(let e=practiceDay.length;e>0;e--){let t=document.createElement("li"),a=document.createElement("button"),c=document.getElementById("hamburgerWindow-list");t.textContent=practiceDay[e-1]+"　"+practiceDay_shots[e-1]+"射",t.classList.add("hamburgerWindow_items"),t.setAttribute("id",practiceDay[e-1]),t.setAttribute("ontouchend","hamburgerWindow_click(this)"),c.appendChild(t),a.textContent="削除",a.setAttribute("id",practiceDay[e-1]),a.setAttribute("ontouchend","deleteButtonClick(this)"),a.classList.add("hamburgerWindow_items"),t.appendChild(a)}}function hamburgerClick(){hamburgerButton.classList.contains("active")?(hamburgerButton.classList.remove("active"),hamburgerWindow.classList.remove("open")):(hamburgerButton.classList.add("active"),hamburgerWindow.classList.add("open"))}function hamburgerWindow_click(e){hamburgerClick(),resetTable(e),scoreButton.classList.add("open")}function homeClick(){resetTable(),scoreButton.classList.remove("open"),hamburgerButton.classList.remove("active"),hamburgerWindow.classList.remove("open")}function buttonClick(e){hamburgerButton.classList.remove("active"),hamburgerWindow.classList.remove("open"),score_active==String(practiceDay_shots[practiceDay_shots.length-1]%36+1)?(scoreArray.push(e.id),practiceDay_shots[practiceDay_shots.length-1]+=1,resetMemu()):scoreArray[scoreArray.length-practiceDay_shots[practiceDay_shots.length-1]%36-1+Number(score_active)]=e.id,localStorage.setItem("scoreArray",JSON.stringify(scoreArray)),localStorage.setItem("practiceDay_shots",JSON.stringify(practiceDay_shots)),resetTable()}function scoreClick(e){hamburgerButton.classList.remove("active"),hamburgerWindow.classList.remove("open"),""!==document.getElementById(e.id).textContent?(document.getElementById(score_active).classList.remove("scoreActive"),document.getElementById(e.id).classList.add("scoreActive"),score_active=e.id):e.id==practiceDay_shots[practiceDay_shots.length-1]%36+1&&(document.getElementById(score_active).classList.remove("scoreActive"),document.getElementById(e.id).classList.add("scoreActive"),score_active=e.id)}function resetTable(e){let t=0,a=0;if(null==e)a=practiceDay_shots[practiceDay_shots.length-1]%36,t=scoreArray.length-a;else{let c=practiceDay.indexOf(e.id);for(let e=0;e<c;e++)t+=Number(practiceDay_shots[e]);a=practiceDay_shots[c]}let c=document.getElementById("table");for(;null!==c;)null!==c&&(c.remove(),c=document.getElementById("table"));for(let e=0;e<=Math.floor(Math.max(a-1,0)/36);e++){let r=document.getElementById("scoreTable");c=document.createElement("table"),c.classList.add("table_"+e,"scoreTable"),c.id="table",r.prepend(c);let o=document.createElement("tr");c.appendChild(o),th=document.createElement("th"),o.appendChild(th);for(let e=1;e<7;e++){let t=document.createElement("th");t.textContent=e,o.appendChild(t)}th=document.createElement("th"),th.textContent="小計",o.appendChild(th),th=document.createElement("th"),th.textContent="合計",o.appendChild(th),o=document.createElement("tr"),c.appendChild(o),th=document.createElement("th"),th.textContent="70m-"+(e+1),th.colSpan="9",th.style.textAlign="left",o.appendChild(th);let s=0,n=0;for(let r=1;r<7;r++){o=document.createElement("tr"),o.classList.add("end_"+r),c.appendChild(o),th=document.createElement("th"),th.textContent=r,o.appendChild(th);for(let c=1;c<7;c++){let i=document.createElement("td"),l="";l=c+6*r-6<=a?scoreArray[t+c+6*r-7+36*e]:"",i.textContent=l,i.setAttribute("onclick","scoreClick(this)"),i.setAttribute("id",String(c+6*r-6)),o.appendChild(i),"X"==l?(s+=10,n+=10):"M"==l||(s+=Number(l),n+=Number(l))}td=document.createElement("td"),6*r<=a&&"NaN"!==String(s)?td.textContent=s:td.textContent="",td.classList.add("scoreTable_sum"),o.appendChild(td),td=document.createElement("td"),6*r<=a&&"NaN"!==String(n)?td.textContent=n:td.textContent="",td.classList.add("scoreTable_sum"),o.appendChild(td),s=0}}null==e&&(document.getElementById(a+1).classList.add("scoreActive"),score_active=String(a+1))}function deleteButtonClick(e){let t=practiceDay.indexOf(e.id),a=0,c=practiceDay_shots[t];for(let e=0;e<t;e++)a+=Number(practiceDay_shots[e]);practiceDay.splice(t,1),practiceDay_shots.splice(t,1),scoreArray.splice(a,c),localStorage.setItem("practiceDay",JSON.stringify(practiceDay)),localStorage.setItem("practiceDay_shots",JSON.stringify(practiceDay_shots)),localStorage.setItem("scoreArray",JSON.stringify(scoreArray)),window.location.reload()}let round=1,practiceDay=[],practiceDay_shots=[],scoreArray=[],score_active="",hamburgerButton=document.getElementById("header-hamburger"),hamburgerWindow=document.getElementById("hamburgerWindow"),scoreButton=document.getElementById("scoreButton"),day=(new Date).getFullYear()+"年"+((new Date).getMonth()+1)+"月"+(new Date).getDate()+"日";localStorage.getItem("practiceDay")&&(practiceDay=JSON.parse(localStorage.getItem("practiceDay")),practiceDay_shots=JSON.parse(localStorage.getItem("practiceDay_shots"))),localStorage.getItem("scoreArray")&&(scoreArray=JSON.parse(localStorage.getItem("scoreArray"))),practiceDay.includes(day)||(practiceDay.push(day),practiceDay_shots.push(0),localStorage.setItem("practiceDay",JSON.stringify(practiceDay)),localStorage.setItem("practiceDay_shots",JSON.stringify(practiceDay_shots))),homeClick(),resetMemu();</script>
    </body>
</html>